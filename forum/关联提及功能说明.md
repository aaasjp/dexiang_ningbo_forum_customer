# 关联提及功能说明

## 功能概述

在问题详情页面的标题上方展示 @的部门和人员信息。

## 实现内容

### 1. 数据来源

从问题详情接口获取：
- `related_dept_ids`: 相关部门ID数组
- `related_staff_codes`: 相关员工工号数组

### 2. 组件修改

#### PostContent.vue
- 新增 `relatedMentions` prop，用于接收@的部门和人员名称数组
- 在标题上方添加展示区域
- 样式规格：
  - `height: 22px`
  - `font-family: PingFang SC`
  - `font-weight: 500`
  - `font-size: 16px`
  - `color: #FFBF00` (金色)
  - `text-align: left`

#### detail.vue
- 导入 `getDepartmentTree` API
- 添加部门和员工名称映射 (`departmentMap`, `staffMap`)
- 在页面加载时获取部门树数据
- 根据 `related_dept_ids` 和 `related_staff_codes` 生成名称数组
- 将名称数组传递给 `PostContent` 组件

### 3. 数据流程

```
1. 页面加载 → 调用 getDepartmentTree 获取部门树
2. 构建部门ID → 部门名称映射
3. 构建员工工号 → 员工姓名映射
4. 获取问题详情数据
5. 根据 related_dept_ids 和 related_staff_codes 查找对应的名称
6. 将名称数组传递给 PostContent 组件展示
```

### 4. 展示效果

在问题标题上方显示：
```
@技术部 @张三 @李四
```

样式为金色文本（#FFBF00），字体大小16px，行高22px。

## 使用示例

当问题数据包含：
```json
{
  "related_dept_ids": [1],
  "related_staff_codes": ["president001", "vice001", "vice002", "vice003"]
}
```

页面将在标题上方展示相应的部门名称和人员姓名（如果能从部门树中找到对应的映射）。

## 注意事项

1. 如果部门树数据加载失败，不影响页面其他功能
2. 如果找不到对应的部门或人员名称，该项将被跳过
3. 部门和人员按照数据顺序依次显示
4. 只有当有关联的部门或人员时才显示该区域

